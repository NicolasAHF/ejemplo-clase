<div class="container">
  @if (pelicula) {
    <mat-card class="detail-card">
      <mat-card-header>
        <mat-card-title>{{ pelicula.titulo }}</mat-card-title>
        <mat-card-subtitle>
          {{ pelicula.director }} ({{ pelicula.anio }})
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="detail-section">
          <h3>Información de la película:</h3>
          <ul>
            <li><strong>Director:</strong> {{ pelicula.director }}</li>
            <li><strong>Año:</strong> {{ pelicula.anio }}</li>
            <li><strong>Género:</strong> {{ pelicula.genero }}</li>
            <li><strong>Calificación:</strong> {{ pelicula.calificacion }}/10</li>
          </ul>
        </div>

        <div class="detail-section">
          <h3>Estado:</h3>
          <mat-chip-set>
            <mat-chip [class.vista-chip]="pelicula.vista">
              <mat-icon>{{ pelicula.vista ? 'visibility' : 'visibility_off' }}</mat-icon>
              {{ pelicula.vista ? 'Vista' : 'No vista' }}
            </mat-chip>
          </mat-chip-set>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <button mat-raised-button (click)="volver()">
          <mat-icon>arrow_back</mat-icon>
          Volver al catálogo
        </button>
        <button mat-raised-button color="accent" (click)="toggleVista()">
          <mat-icon>{{ pelicula.vista ? 'undo' : 'check' }}</mat-icon>
          {{ pelicula.vista ? 'Marcar como no vista' : 'Marcar como vista' }}
        </button>
      </mat-card-actions>
    </mat-card>
  } @else {
    <mat-card class="detail-card">
      <mat-card-content>
        <div class="error-message">
          <mat-icon color="warn">error</mat-icon>
          <h2>Película no encontrada</h2>
          <p>La película que estás buscando no existe.</p>
          <button mat-raised-button color="primary" (click)="volver()">
            Volver al catálogo
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  }
</div>
